# [Platinum III] Springfield🍩 - 32104 

[문제 링크](https://www.acmicpc.net/problem/32104) 

### 성능 요약

메모리: 351448 KB, 시간: 4176 ms

### 분류

자료 구조, 해시를 사용한 집합과 맵, 작은 집합에서 큰 집합으로 합치는 테크닉, 스위핑, 트리를 사용한 집합과 맵

### 제출 일자

2024년 7월 30일 10:53:12

### 문제 설명

<p>러스티의 도넛🍩 가게에는 $1$번부터 $N$번까지의 도넛 반죽 기계 $N$개가 있다. 각 도넛 반죽 기계에는 도넛 반죽이 하나씩 들어 있다. 각 도넛 반죽은 여러 가지 맛을 가질 수 있는데, 맛은 $1$ 이상 $10^9$ 이하의 정수로 표현할 수 있다. 서로 다른 두 도넛 반죽은 합칠 수 있다. 합쳐진 반죽이 가진 맛의 집합은 두 반죽이 가진 맛의 합집합이다. 여러분은 처음 도넛 반죽이 가진 맛의 범위가 주어질 때 러스티의 반죽 과정에 따라 아래 명령을 $Q$번 수행해야 한다.</p>

<ul>
	<li><code><span style="color:#e74c3c;">1 a b</span></code>: $a$번 기계에 든 반죽과 $b$번 기계에 든 반죽을 남김없이 싹싹 긁은 후 모두 합쳐 $a$번 기계에 넣는다.</li>
	<li><span style="color:#e74c3c;"><code>2 a</code></span>: $a$번 기계에 든 반죽이 가진 맛의 개수를 출력한다.</li>
</ul>

### 입력 

 <p>첫째 줄에 도넛 반죽 기계의 수 $N$와 명령의 수 $Q$가 공백으로 구분되어 주어진다. $(1 \le N, Q \le 200\,000)$</p>

<p>다음 $N$개 줄에 걸쳐 도넛 반죽 기계에 든 도넛 반죽의 맛의 범위가 주어진다. 그중 $i$번째 줄에는 정수 $\ell_i$, $r_i$가 공백으로 구분되어 주어진다. 이는 $i$번 도넛 반죽 기계에 든 반죽의 맛에 $\ell_i$ 이상 $r_i$ 이하의 모든 정수가 포함된다는 뜻이다. $(1 \le \ell_i \le r_i \le 10^9)$</p>

<p>다음 $Q$개 줄에 걸쳐 명령이 주어진다. 각 명령은 아래 형식 중 하나로 주어진다.</p>

<ul>
	<li><span style="color:#e74c3c;"><code>1 a b</code></span>: $a$번 기계에 든 반죽과 $b$번 기계에 든 반죽을 남김없이 싹싹 긁은 후 모두 합쳐 $a$번 기계에 넣는다. $a$번 기계와 $b$번 기계에 반죽이 남아 있는 경우만 주어진다. $(1 \le a, b \le N;$ $a \ne b)$</li>
	<li><span style="color:#e74c3c;"><code>2 a</code></span>: $a$번 기계에 든 반죽이 가진 맛의 개수를 출력한다. $a$번 기계에 반죽이 남아 있는 경우만 주어진다. $(1 \le a \le N)$</li>
</ul>

<p>2번 명령은 하나 이상 주어진다.</p>

### 출력 

 <p>2번 명령이 주어질 때마다 $a$번 기계에 든 반죽이 가진 맛의 수를 한 줄에 출력한다.</p>


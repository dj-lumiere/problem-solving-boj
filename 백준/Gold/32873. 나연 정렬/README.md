# [Gold II] 나연 정렬 - 32873 

[문제 링크](https://www.acmicpc.net/problem/32873) 

### 성능 요약

메모리: 164384 KB, 시간: 692 ms

### 분류

이분 탐색, 가장 긴 증가하는 부분 수열: O(n log n)

### 제출 일자

2025년 1월 28일 12:33:13

### 문제 설명

<p style="user-select: auto !important;">자료구조 수업을 열심히 수강한 나연이는 새로운 정렬 알고리즘을 고안한 뒤, 자신의 이름을 따 <strong style="user-select: auto !important;">나연 정렬</strong>이라는 이름을 붙였다. 정렬하고자 하는 배열 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D434 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c3D" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c5B" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-msub style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mn class="mjx-n" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c></mjx-mn></mjx-script></mjx-msub><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-msub space="2" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mn class="mjx-n" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c32" style="user-select: auto !important;"></mjx-c></mjx-mn></mjx-script></mjx-msub><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c22EF" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-msub space="2" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mi class="mjx-i" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c1D441 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5D" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">A</mi><mo style="user-select: auto !important;">=</mo><mo stretchy="false" style="user-select: auto !important;">[</mo><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mn style="user-select: auto !important;">1</mn></msub><mo style="user-select: auto !important;">,</mo><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mn style="user-select: auto !important;">2</mn></msub><mo style="user-select: auto !important;">,</mo><mo style="user-select: auto !important;">⋯</mo><mo style="user-select: auto !important;">,</mo><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mi style="user-select: auto !important;">N</mi></msub><mo stretchy="false" style="user-select: auto !important;">]</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$A=[a_1,a_2,\cdots ,a_N]$</span></mjx-container>이 주어질 때 나연 정렬 알고리즘은 다음과 같이 동작한다.</p>

<ol style="user-select: auto !important;">
	<li style="user-select: auto !important;">빈 스택을 원하는 만큼 선언한다.</li>
	<li style="user-select: auto !important;"><mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"> <mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-msub style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mn class="mjx-n" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mn style="user-select: auto !important;">1</mn></msub></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$a_1$</span></mjx-container>부터 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-msub style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mi class="mjx-i" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c1D441 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mi style="user-select: auto !important;">N</mi></msub></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$a_N$</span></mjx-container>까지 각 원소를 순서대로 원하는 스택에 삽입한다.</li>
	<li style="user-select: auto !important;">빈 배열 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D435 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">B</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$B$</span></mjx-container>를 선언한다.</li>
	<li style="user-select: auto !important;">원하는 스택에서 원소를 하나 뽑은 뒤 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D435 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">B</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$B$</span></mjx-container>의 맨 뒤에 삽입하는 작업을 모든 스택이 빌 때까지 반복한다.</li>
</ol>

<p style="user-select: auto !important;">나연 정렬 알고리즘은 주어지는 배열과 사용하는 스택의 개수에 따라 정렬 가능 여부가 달라진다. 예를 들어, <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D434 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c3D" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c5B" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c39" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c32" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c38" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c37" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5D" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">A</mi><mo style="user-select: auto !important;">=</mo><mo stretchy="false" style="user-select: auto !important;">[</mo><mn style="user-select: auto !important;">9</mn><mo style="user-select: auto !important;">,</mo><mn style="user-select: auto !important;">2</mn><mo style="user-select: auto !important;">,</mo><mn style="user-select: auto !important;">8</mn><mo style="user-select: auto !important;">,</mo><mn style="user-select: auto !important;">7</mn><mo style="user-select: auto !important;">,</mo><mn style="user-select: auto !important;">1</mn><mo stretchy="false" style="user-select: auto !important;">]</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$A=[9,2,8,7,1]$</span></mjx-container>이라면 3개의 스택에 각각 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5B" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c39" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c38" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5D" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mo stretchy="false" style="user-select: auto !important;">[</mo><mn style="user-select: auto !important;">9</mn><mo style="user-select: auto !important;">,</mo><mn style="user-select: auto !important;">8</mn><mo stretchy="false" style="user-select: auto !important;">]</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$[9,8]$</span></mjx-container>, <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5B" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c32" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5D" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mo stretchy="false" style="user-select: auto !important;">[</mo><mn style="user-select: auto !important;">2</mn><mo stretchy="false" style="user-select: auto !important;">]</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$[2]$</span></mjx-container>, <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5B" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c37" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c2C" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="2" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c5D" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mo stretchy="false" style="user-select: auto !important;">[</mo><mn style="user-select: auto !important;">7</mn><mo style="user-select: auto !important;">,</mo><mn style="user-select: auto !important;">1</mn><mo stretchy="false" style="user-select: auto !important;">]</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$[7,1]$</span></mjx-container>을 담은 뒤 세 번째, 두 번째, 세 번째, 첫 번째, 첫 번째 스택 순서대로 원소를 뽑아 오름차순으로 정렬된 배열을 얻을 수 있다. 스택이 두 개여도 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D434 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">A</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$A$</span></mjx-container>를 정렬할 수 있지만, 스택이 하나뿐이라면 오름차순으로 정렬할 수 없다.</p>

<p style="user-select: auto !important;">나연이는 당신에게 주어진 배열을 오름차순으로 정렬하기 위해 스택이 최소 몇 개 필요한지 구해 준다면 HCPC에서 푼 문제 수를 몰래 하나 늘려 주겠다고 제안했다. 누구보다 먼저 문제를 푼 뒤 HCPC 우승에 한 발짝 다가가 보자!</p>

### 입력 

 <p style="user-select: auto !important;">첫째 줄에 배열 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D434 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">A</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$A$</span></mjx-container>의 길이를 나타내는 정수 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D441 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">N</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$N$</span></mjx-container>이 주어진다. <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c28" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c2264" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mi class="mjx-i" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c1D441 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c2264" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c35" style="user-select: auto !important;"></mjx-c><mjx-c class="mjx-c30" style="user-select: auto !important;"></mjx-c><mjx-c class="mjx-c30" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mstyle style="user-select: auto !important;"><mjx-mspace style="width: 0.167em; user-select: auto !important;"></mjx-mspace></mjx-mstyle><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c30" style="user-select: auto !important;"></mjx-c><mjx-c class="mjx-c30" style="user-select: auto !important;"></mjx-c><mjx-c class="mjx-c30" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c29" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mo stretchy="false" style="user-select: auto !important;">(</mo><mn style="user-select: auto !important;">1</mn><mo style="user-select: auto !important;">≤</mo><mi style="user-select: auto !important;">N</mi><mo style="user-select: auto !important;">≤</mo><mn style="user-select: auto !important;">500</mn><mstyle scriptlevel="0" style="user-select: auto !important;"><mspace width="0.167em" style="user-select: auto !important;"></mspace></mstyle><mn style="user-select: auto !important;">000</mn><mo stretchy="false" style="user-select: auto !important;">)</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$(1\le N\le 500\, 000)$</span> </mjx-container></p>

<p style="user-select: auto !important;">둘째 줄에 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D441 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">N</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$N$</span></mjx-container>개의 정수 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-msub style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mn class="mjx-n" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mn style="user-select: auto !important;">1</mn></msub></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$a_1$</span></mjx-container>, <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-msub style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mn class="mjx-n" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c32" style="user-select: auto !important;"></mjx-c></mjx-mn></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mn style="user-select: auto !important;">2</mn></msub></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$a_2$</span></mjx-container>, <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c22EF" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mo style="user-select: auto !important;">⋯</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$\cdots$</span></mjx-container>, <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-msub style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mi class="mjx-i" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c1D441 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mi style="user-select: auto !important;">N</mi></msub></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$a_N$</span></mjx-container>이 공백으로 구분되어 주어진다. <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c28" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c2264" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-msub space="4" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D44E TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi><mjx-script style="vertical-align: -0.15em; user-select: auto !important;"><mjx-mi class="mjx-i" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c1D456 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class="mjx-n" space="4" style="user-select: auto !important;"><mjx-c class="mjx-c2264" style="user-select: auto !important;"></mjx-c></mjx-mo><mjx-msup space="4" style="user-select: auto !important;"><mjx-mn class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c31" style="user-select: auto !important;"></mjx-c><mjx-c class="mjx-c30" style="user-select: auto !important;"></mjx-c></mjx-mn><mjx-script style="vertical-align: 0.393em; user-select: auto !important;"><mjx-mn class="mjx-n" size="s" style="user-select: auto !important;"><mjx-c class="mjx-c39" style="user-select: auto !important;"></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class="mjx-n" style="user-select: auto !important;"><mjx-c class="mjx-c29" style="user-select: auto !important;"></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mo stretchy="false" style="user-select: auto !important;">(</mo><mn style="user-select: auto !important;">1</mn><mo style="user-select: auto !important;">≤</mo><msub style="user-select: auto !important;"><mi style="user-select: auto !important;">a</mi><mi style="user-select: auto !important;">i</mi></msub><mo style="user-select: auto !important;">≤</mo><msup style="user-select: auto !important;"><mn style="user-select: auto !important;">10</mn><mn style="user-select: auto !important;">9</mn></msup><mo stretchy="false" style="user-select: auto !important;">)</mo></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$(1\le a_i\le 10^9)$</span> </mjx-container></p>

### 출력 

 <p style="user-select: auto !important;">첫째 줄에 <mjx-container class="MathJax" jax="CHTML" style="font-size: 99.7%; position: relative; user-select: auto !important;"><mjx-math class="MJX-TEX" aria-hidden="true" style="user-select: auto !important;"><mjx-mi class="mjx-i" style="user-select: auto !important;"><mjx-c class="mjx-c1D434 TEX-I" style="user-select: auto !important;"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml unselectable="on" display="inline" style="user-select: auto !important;"><math xmlns="http://www.w3.org/1998/Math/MathML" style="user-select: auto !important;"><mi style="user-select: auto !important;">A</mi></math></mjx-assistive-mml><span aria-hidden="true" class="no-mathjax mjx-copytext" style="user-select: auto !important;">$A$</span></mjx-container>를 오름차순으로 정렬하기 위해 필요한 최소 스택 개수를 출력한다.</p>

